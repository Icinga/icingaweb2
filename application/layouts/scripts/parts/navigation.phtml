<?php

use Icinga\Web\Menu;

// Don't render a menu for unauthenticated users unless menu is auth aware
if (! $this->auth()->isAuthenticated()) {
    return;
}

?>
<div class="skip-links">
    <h1 class="sr-only"><?= t('Accessibility Skip Links') ?></h1>
    <ul>
        <li>
            <a href="#main"><?= t('Skip to Content') ?></a>
        </li>
        <li>
            <?= $this->layout()->autoRefreshForm ?>
        </li>
    </ul>
</div>
<div id="menu" data-last-update="-1" data-base-target="_main" class="container"
      data-icinga-url="<?= $this->href('layout/menu') ?>"  data-icinga-refresh="15">
    <?= $this->partial(
        'layout/menu.phtml',
        'default',
        array(
            'menuRenderer' => (new Menu())->getRenderer()->setUseStandardItemRenderer()
        )
    ) ?>
</div>
<button id="toggle-sidebar" title="<?= $this->translate('Toggle Menu') ?>">
    <i id="close-sidebar" class="icon-angle-double-left"></i>
    <i id="open-sidebar" class="icon-angle-double-right"></i>
</button>
